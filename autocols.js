(()=>{var Autocols=class{timeoutId=null;forceRunFrequency=32;constructor(){this.run(),window.addEventListener("resize",()=>{this.timeoutId%this.forceRunFrequency===0&&this.run(),clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.run(),this.timeoutId=null},100)})}run(){let tables=document.querySelectorAll("table.autocols");if(!tables||!tables.length)return;for(let table of tables){let hiddenCells=table.querySelectorAll('th[style="display: none;"],td[style="display: none;"]');!hiddenCells||!hiddenCells.length||hiddenCells.forEach(cell=>{cell.removeAttribute("style")})}let isTableTooBig=table=>table.clientWidth>table.parentElement.clientWidth;for(let table of tables){let keepIndexes=table.dataset.keepindexes?table.dataset.keepindexes.split(",").map(i=>parseInt(i)-1):[0];if(isTableTooBig(table)){let tdElementsInFirstRow=table.querySelector("td").parentElement.querySelectorAll("td");for(let i=tdElementsInFirstRow.length-1;i>=0;i--){if(!isTableTooBig(table)||keepIndexes.indexOf(i)>-1)continue;let td=tdElementsInFirstRow[i];if(!(!td||!td.style)&&(!td.style.display||td.style.display!=="none")){let indexToHide=i+1;try{table.querySelectorAll(`tr th:nth-of-type(${indexToHide}), tr td:nth-of-type(${indexToHide})`).forEach(cell=>{cell.style.display="none"})}catch(error){console.error(error)}}}}}}};globalThis.Autocols=Autocols;})();
